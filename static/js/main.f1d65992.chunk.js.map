{"version":3,"sources":["Components/Navbar.jsx","Engine/keyLED.js","Engine/autoPlay.js","Engine/projectFile.js","Components/Button.jsx","Components/ProjectFileReader.jsx","palette.js","Components/Canvas.jsx","Components/Spacer.jsx","deviceConfigs.js","Components/App.jsx","serviceWorker.js","index.js"],"names":["Component","KeyLED","text","repeat","keyLED","undefined","play","canvas","a","i","line","command","split","length","setColorPalette","parseInt","setMCColorPalette","setColorHEX","setMCColorHEX","wait","this","ms","Promise","resolve","setTimeout","AutoPlay","autoplay","canvas_origin","console","log","keyOn","keyOff","chainChange","ProjectFile","file","info","keySound","unpack","projectFile","files","JSZip","require","loadAsync","then","zip","Object","values","e","alert","projectRoot","keySoundFile","autoplayFile","soundFiles","keyLEDFiles","name","endsWith","toLowerCase","includes","pop","async","slice","forEach","Array","chain","fill","map","buttonX","buttonY","entries","fileInfo","charCodeAt","warn","sound","window","URL","createObjectURL","format","push","Howl","src","Button","state","keyState","on","props","x","y","off","shouldUpdate","nextProps","color","render","onMouseDown","onTouchStart","className","class","style","backgroundColor","palette","Canvas","colormap","layoutConfig","width","height","keypressHistory","currentChain","midiInputHandler","midiMessage","indexOf2dArray","data","inputConfig","keymap","config","toString","arrayCalculation","offseted_x","offseted_y","soundIndex","stop","ledIndex","checkChain","chainKey","playAutoplay","initlalizeCanvas","p","outputDevice","output_offseted_x","output_offseted_y","sendMidi","outputConfig","channel","mc","mcTable","device_x","device_y","hex","sendSysex","hexSysexGen","array1","array2","operation","newArray","setInterval","setState","prevProps","inputDevice","setupMidiInput","newInput","oldInput","onmidimessage","mode","note","value","modeKey","charAt","substr","send","message","id","matrix","len","j","len2","layout","Zoff","deviceConfigs","midiNameRegex","padding","radius","arguments","xy","r","g","b","App","updateProjectFile","newProjectFile","onMIDISuccess","midiAccess","inputs","input","outputs","output","navigator","requestMIDIAccess","onMIDIFailure","deviceName","keys","match","Fragment","Boolean","location","hostname","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"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d,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WCyLaC,GCvTMnG,Y,kDDInB,WAAYoF,GAAQ,IAAD,8BACjB,cAAMA,IAIRH,MAAQ,CACNmB,SAAU,IAAItC,MAAM,EAAKsB,MAAMiB,aAAaC,OAAOtC,KAAK,MAAMC,KAC5D,kBAAM,IAAIH,MAAM,EAAKsB,MAAMiB,aAAaE,QAAQvC,KAAKkC,EAAQ,QAP9C,EAUnBM,gBAAkB,IAAI1C,MAAM,GAAGE,KAAK,MAAMC,KAC9B,kBAAM,IAAIH,MAAM,EAAKsB,MAAMiB,aAAaC,OAAOtC,KAAK,MAAMC,KAC1D,kBAAM,IAAIH,MAAM,EAAKsB,MAAMiB,aAAaE,QAAQvC,KAAK,SAZ9C,EAanByC,aAAe,EAbI,EAgDnBC,iBAAmB,SAACC,GACpB,MAEc,EAAKC,eAAeD,EAAYE,KAAK,GAAI,EAAKzB,MAAM0B,YAAYC,QAF9E,mBAEOzB,EAFP,KAESD,EAFT,KAGE,IAAU,IAAPA,IAAmB,IAAPC,EAGb,OAAOqB,EAAYE,KAAK,IAEtB,KAAK,IACH,GAA0B,GA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","file":"static/js/main.f1d65992.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\n\r\nclass Navbar extends Component {\r\n\r\n    render = () => (\r\n        <nav className='navbar-container'>\r\n            <form className='navbar-form' /*action={TODO}*/>\r\n                <div className='navbar-input'>\r\n                    <input type='file' id='file' onChange={this.props.onFileChange}/>\r\n                </div>\r\n                <div className='navbar-project'>\r\n                    <span>Curent project: {this.props.name}</span>\r\n                </div>\r\n            </form>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar ","class KeyLED\r\n{\r\n  keyLED = undefined\r\n  repeat = 1;\r\n  constructor(text, repeat)\r\n  {\r\n    this.keyLED = text;\r\n    this.repeat = repeat;\r\n  }\r\n\r\n  play = async(canvas) =>\r\n  {\r\n    for(var i = 0; i < this.repeat; i++)\r\n    {\r\n      for(var line of this.keyLED)\r\n      {\r\n        let command = line.split(\" \");\r\n        // console.log(command);\r\n        if(command.length < 2)\r\n          continue;\r\n\r\n        switch(command[0])\r\n        {\r\n          case 'o': //set color\r\n          case 'on': //set color\r\n            if(command.length === 5) //PaletteMode\r\n            {\r\n              if(command[1] !== \"mc\")\r\n              {\r\n                canvas.setColorPalette(parseInt(command[2] - 1), parseInt(command[1] - 1), parseInt(command[4]));\r\n              }\r\n              else\r\n              {\r\n                canvas.setMCColorPalette(parseInt(command[2] - 1), parseInt(command[4]));\r\n              }\r\n            }else if(command.length === 4)\r\n            {\r\n              if(command[1] !== \"mc\")\r\n              {\r\n                canvas.setColorHEX(parseInt(command[2] - 1), parseInt(command[1] - 1), \"#\" + command[3]);\r\n              }\r\n              else\r\n              {\r\n                canvas.setMCColorHEX(parseInt(command[2] - 1), \"#\" + command[3]);\r\n              }\r\n            }\r\n              break;\r\n          case 'f': //color off\r\n          case 'off': //color off\r\n          if(command[1] !== \"mc\")\r\n            {\r\n              canvas.setColorPalette(parseInt(command[2] - 1), parseInt(command[1] - 1), 0);\r\n            }\r\n            else\r\n            {\r\n              canvas.setMCColorPalette(parseInt(command[2] - 1), 0);\r\n            }\r\n            break;\r\n          case 'd': //wait\r\n            await this.wait(parseInt(command[1]));\r\n            break;\r\n          default:\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  wait(ms)\r\n  {\r\n    return new Promise(resolve => setTimeout(resolve, ms))\r\n  }\r\n}\r\n\r\nexport default KeyLED;","class AutoPlay\r\n{\r\n  autoplay = undefined;\r\n  constructor(text)\r\n  {\r\n    this.autoplay = text;\r\n  }\r\n\r\n  play = async(canvas, canvas_origin) =>\r\n  {\r\n    console.log(canvas_origin);\r\n    for(var line of this.autoplay)\r\n    {\r\n      console.log(line)\r\n      let command = line.split(\" \");\r\n      \r\n      if(command.length < 2)\r\n        continue;\r\n\r\n      switch(command[0])\r\n      {\r\n        case 't':\r\n        case 'o':\r\n          canvas.keyOn(parseInt(command[2]) - 1 + canvas_origin[0], parseInt(command[1]) - 1 + canvas_origin[1]);\r\n          break;\r\n        case 'f':\r\n          canvas.keyOff(parseInt(command[2]) - 1 + canvas_origin[0], parseInt(command[1]) - 1 + canvas_origin[1]);\r\n          break;\r\n        case 'd':\r\n          // console.time(\"Autoplay wait\");\r\n          await this.wait(parseInt(command[1]));\r\n          // console.timeEnd(\"Autoplay wait\");\r\n          // await this.better_wait(parseInt(parameter[1]));\r\n          break;\r\n        case 'c':\r\n        case 'chain':\r\n          canvas.chainChange(parseInt(command[1]) - 1);\r\n          break;\r\n        default:\r\n      }\r\n    }\r\n  }\r\n\r\n  wait(ms)\r\n  {\r\n    return new Promise(resolve => setTimeout(resolve, ms))\r\n  }\r\n}\r\n\r\nexport default AutoPlay;","import {Howl} from 'howler';\r\nimport KeyLED from \"./keyLED\"\r\nimport AutoPlay from \"./autoPlay\"\r\n\r\nclass ProjectFile\r\n{\r\n  info = {};\r\n  keySound = undefined;\r\n  autoplay = undefined;\r\n  keyLED = undefined;\r\n\r\n  constructor(file) {\r\n    this.unpack(file);\r\n  }\r\n  \r\n  async unpack(projectFile)\r\n  {\r\n    var files = undefined\r\n    let JSZip = require(\"jszip\");\r\n    await JSZip.loadAsync(projectFile).then(function(zip){\r\n      files = Object.values(zip.files);\r\n    }, function (e) {\r\n      alert(\"Failed to extract selected file\");\r\n      console.log(e);\r\n      return;\r\n    });\r\n\r\n    let projectRoot = undefined;\r\n    let keySoundFile = undefined;\r\n    let autoplayFile = undefined;\r\n    let soundFiles = {};\r\n    let keyLEDFiles = {};\r\n\r\n    //Load info and categorize files\r\n    for(let file of files){\r\n      if(!file.name.endsWith(\"/\")) //Ignore folder\r\n      {\r\n        if(file.name.toLowerCase().includes(\"sounds/\")) //Audio\r\n        {\r\n          console.log(\"Sound file: \" + file.name);\r\n          soundFiles[file.name.split(\"/\").pop()] = file;\r\n        }\r\n        else\r\n        {\r\n          let text = await file.async(\"text\");\r\n          text = text.split(/\\r?\\n/);\r\n          if(file.name.toLowerCase().endsWith(\"info\")) //Text\r\n          {\r\n            console.log(\"Info file: \" + file.name);\r\n            projectRoot = file.name.slice(0, -4); \r\n            console.log(\" project root: \" + projectRoot);\r\n            text.forEach(info => this.info[info.split('=')[0]] = info.split('=')[1]);\r\n            this.info[\"buttonX\"] = parseInt(this.info[\"buttonX\"]);\r\n            this.info[\"buttonY\"] = parseInt(this.info[\"buttonY\"]);\r\n            this.info[\"chain\"] = parseInt(this.info[\"chain\"]);\r\n            this.info[\"squareButton\"] = this.info[\"squareButton\"] === \"true\";\r\n            this.info[\"landscape\"] = this.info[\"landscape\"] === \"true\";\r\n            console.log(\" title: \" + this.info[\"title\"])\r\n            console.log(\" producerName: \" + this.info[\"producerName\"])\r\n            console.log(\" buttonX: \" + this.info[\"buttonX\"])\r\n            console.log(\" buttonY: \" + this.info[\"buttonY\"])\r\n            console.log(\" chain: \" + this.info[\"chain\"])\r\n            console.log(\" squareButton: \" + this.info[\"squareButton\"])\r\n            console.log(\" landscape: \" + this.info[\"landscape\"])\r\n            if(this.info[\"buttonX\"] !== 8 || this.info[\"buttonY\"] !== 8)\r\n            {\r\n              alert(\"Only 8x8 Unipad project are supported\");\r\n              return;\r\n            }\r\n            if(this.info[\"chain\"] > 8)\r\n            {\r\n              alert(\"Only Unipad project that has within 8 chains are supported\");\r\n              return;\r\n            }\r\n          }\r\n          else if(file.name.toLowerCase().endsWith(\"keysound\"))\r\n          {\r\n            console.log(\"KeySound file: \" + file.name);\r\n            keySoundFile = text;\r\n          }\r\n          else if(file.name.toLowerCase().endsWith(\"autoplay\"))\r\n          {\r\n            console.log(\"AutoPlay file: \" + file.name);\r\n            autoplayFile = text;\r\n          }\r\n          else if(file.name.toLowerCase().includes(\"keyled/\"))\r\n          {\r\n            console.log(\"KeyLED file: \" + file.name);\r\n            keyLEDFiles[file.name] = text;\r\n          }\r\n          else\r\n          {\r\n            console.log(\"Unknown file: \" + file.name);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    //Initialize 4D arraies\r\n    this.keySound = new Array(this.info.chain).fill(null).map(\r\n              () => new Array(this.info.buttonX).fill(null).map(\r\n              () => new Array(this.info.buttonY).fill(null).map(\r\n              () => new Array())));\r\n              \r\n    this.keyLED = new Array(this.info.chain).fill(null).map(\r\n            () => new Array(this.info.buttonX).fill(null).map(\r\n            () => new Array(this.info.buttonY).fill(null).map(\r\n            () => new Array())));\r\n\r\n    // Load KeyLED\r\n    for(var [name, text] of Object.entries(keyLEDFiles))\r\n    {\r\n      let fileInfo = name.split(\"/\").pop().split(\" \");\r\n      if(fileInfo.length === 5)\r\n      {\r\n        this.keyLED[parseInt(fileInfo[0]) - 1][parseInt(fileInfo[2]) - 1][parseInt(fileInfo[1]) - 1][fileInfo[4].charCodeAt(0) - 97] = new KeyLED(text, parseInt(fileInfo[3]))\r\n      }\r\n      else if(fileInfo.length === 4)\r\n      {\r\n      this.keyLED[parseInt(fileInfo[0]) - 1][parseInt(fileInfo[2]) - 1][parseInt(fileInfo[1]) - 1] = [new KeyLED(text, parseInt(fileInfo[3]))]\r\n      }\r\n      else\r\n      {\r\n        console.warn(\"Unknown keyLED file name: \" + name);\r\n      }\r\n    }\r\n\r\n    //Load KeySound\r\n    for(var line of keySoundFile)\r\n    {\r\n      let command = line.split(\" \");\r\n\r\n      if(command.length < 2) //For empty lines\r\n        continue;\r\n\r\n      // console.log(command);\r\n      let sound = await soundFiles[command[3]].async(\"blob\");\r\n      sound = window.URL.createObjectURL(sound);\r\n      let format = command[3].split(\".\").pop()\r\n\r\n      this.keySound[parseInt(command[0]) - 1][parseInt(command[2]) - 1][parseInt(command[1]) - 1].push(\r\n        new Howl({src: [sound], format: [format]}));\r\n    }\r\n\r\n    //Load AutoPlay\r\n    this.autoplay = new AutoPlay(autoplayFile);\r\n  }\r\n}\r\n\r\nexport default ProjectFile;","import React, { Component } from 'react'\r\n\r\nclass Button extends Component {\r\n    state = {\r\n        keyState: false,\r\n    }\r\n\r\n    // Turns stuff on\r\n    on = () => this.props.on(this.props.x, this.props.y)\r\n    \r\n    // Turns stuff off\r\n    off = () => {\r\n        if (this.keyState) {\r\n            this.keyState = !this.keyState\r\n            this.props.off(this.props.x, this.props.y)\r\n        }\r\n    }\r\n\r\n    // Updates\r\n    shouldUpdate = (nextProps) => this.props.color !== nextProps.color\r\n\r\n    render = () => (\r\n        <div>\r\n            <button onMouseDown={this.on} onTouchStart={this.on} className={this.props.class} style={\r\n                {\r\n                backgroundColor: this.props.color,\r\n                }\r\n            }>\r\n                {/* <svg width='80' height='80'>\r\n                    <path d='M75,80H5a5,5,0,0,1-5-5V5A5,5,0,0,1,5,0H62a8.33,8.33,0,0,1,5.12,2.12L77.88,12.88A8.33,8.33,0,0,1,80,18V75A5,5,0,0,1,75,80Z' fill={this.props.color} stroke='black' stoke-width='2px'/>\r\n                </svg> */}\r\n                {/* {this.props.x.toString() + ' ' + this.props.y.toString()} */}\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Button;","import React, { Component } from \"react\";\r\nimport ProjectFile from \"../Engine/projectFile\";\r\n\r\nclass ProjectFileReader extends Component {\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <label for=\"projectFilePicker\">Select a project file:</label>\r\n        <input type=\"file\" id=\"projectFilePicker\" name=\"projectFile\" accept=\".zip\" onChange={this.onFileChange}/>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  onFileChange = event => { \r\n    this.props.updateProjectFile(new ProjectFile(event.target.files[0]));\r\n  };\r\n}\r\n\r\nexport default ProjectFileReader;","const palette = [\r\n  //New optimized palette\r\n  \"#808080\",\t//0\r\n  \"#dadfe4\",\t//1\r\n  \"#e6e9ed\",\t//2\r\n  \"#fafafa\",\t//3\r\n  \"#f8bbd0\",\t//4\r\n  \"#ef5350\",\t//5\r\n  \"#e57373\",\t//6\r\n  \"#ef9a9a\",\t//7\r\n  \"#fff3e0\",\t//8\r\n  \"#ffa726\",\t//9\r\n  \"#ffb960\",\t//10\r\n  \"#ffcc80\",\t//11\r\n  \"#ffe0b2\",\t//12\r\n  \"#ffee58\",\t//13\r\n  \"#fff59d\",\t//14\r\n  \"#fff9c4\",\t//15\r\n  \"#dcedc8\",\t//16\r\n  \"#8bc34a\",\t//17\r\n  \"#aed581\",\t//18\r\n  \"#bfdf9f\",\t//19\r\n  \"#5ee2b0\",\t//20\r\n  \"#00ce3c\",  //21\r\n  \"#00ba43\",  //22\r\n  \"#119c3f\",\t//23\r\n  \"#57ecc1\",\t//24\r\n  \"#00e864\",  //25\r\n  \"#00e05c\",  //26\r\n  \"#00d545\",  //27\r\n  \"#7afddd\",\t//28\r\n  \"#00e4c5\",  //29\r\n  \"#00e0b2\",  //30\r\n  \"#01eec6\",  //31\r\n  \"#49efef\",\t//32\r\n  \"#00e7d8\",  //33\r\n  \"#00e5d1\",  //34\r\n  \"#01efde\",  //35\r\n  \"#6addff\",\t//36\r\n  \"#00dafe\",  //37\r\n  \"#01d6ff\",  //38\r\n  \"#08acdc\",  //39\r\n  \"#73cefe\",\t//40\r\n  \"#0d9bf7\",  //41\r\n  \"#148de4\",\t//42\r\n  \"#2a77c9\",\t//43\r\n  \"#8693ff\",\t//44\r\n  \"#2196f3\",\t//45\r\n  \"#4668f6\",\t//46\r\n  \"#4153dc\",\t//47\r\n  \"#b095ff\",\t//48\r\n  \"#8453fd\",\t//49\r\n  \"#634acd\",\t//50\r\n  \"#5749c5\",\t//51\r\n  \"#ffb7ff\",\t//52\r\n  \"#e863fb\",\t//53\r\n  \"#d655ed\",\t//54\r\n  \"#d14fe9\",\t//55\r\n  \"#fc99e3\",\t//56\r\n  \"#e736c2\",\t//57\r\n  \"#e52fbe\",\t//58\r\n  \"#e334b6\",\t//59\r\n  \"#ed353e\",\t//60\r\n  \"#ffa726\",\t//61\r\n  \"#f4df0b\",  //62\r\n  \"#66bb6a\",\t//63\r\n  \"#5cd100\",  //64\r\n  \"#00d29e\",  //65\r\n  \"#2388ff\",\t//66\r\n  \"#3669fd\",\t//67\r\n  \"#00b4d0\",  //68\r\n  \"#475cdc\",\t//69\r\n  \"#f2f3f5\",\t//70\r\n  \"#eef0f2\",\t//71\r\n  \"#f72737\",\t//72\r\n  \"#d2ea7b\",\t//73\r\n  \"#c8df10\",\t//74\r\n  \"#7fe422\",\t//75\r\n  \"#00c931\",  //76\r\n  \"#00d7a6\",\t//77\r\n  \"#00d8fc\",  //78\r\n  \"#0b9bfc\",  //79\r\n  \"#585cf5\",\t//80\r\n  \"#ac59f0\",\t//81\r\n  \"#d980dc\",\t//82\r\n  \"#b8814a\",\t//83\r\n  \"#ff9800\",  //84\r\n  \"#abdf22\",\t//85\r\n  \"#9ee154\",\t//86\r\n  \"#66bb6a\",\t//87\r\n  \"#3bda47\",\t//88\r\n  \"#6fdeb9\",\t//89\r\n  \"#27dbda\",\t//90\r\n  \"#9cc8fd\",\t//91\r\n  \"#79b8f7\",\t//92\r\n  \"#afafef\",\t//93\r\n  \"#d580eb\",\t//94\r\n  \"#f74fca\",\t//95\r\n  \"#ea8a1f\",\t//96\r\n  \"#dbdb08\",  //97\r\n  \"#9cd60d\",  //98\r\n  \"#f3d335\",\t//99\r\n  \"#c8af41\",\t//100\r\n  \"#00ca69\",  //101\r\n  \"#24d2b0\",\t//102\r\n  \"#757ebe\",\t//103\r\n  \"#5388db\",\t//104\r\n  \"#e5c5a6\",\t//105\r\n  \"#e93b3b\",\t//106\r\n  \"#f9a2a1\",\t//107\r\n  \"#ed9c65\",\t//108\r\n  \"#e1ca72\",\t//109\r\n  \"#b8da78\",\t//110\r\n  \"#98d52c\",\t//111\r\n  \"#626cbd\",\t//112\r\n  \"#cac8a0\",\t//113\r\n  \"#90d4c2\",\t//114\r\n  \"#ceddfe\",\t//115\r\n  \"#beccf7\",\t//116\r\n  \"#d2d7de\",\t//117\r\n  \"#dadfe4\",\t//118\r\n  \"#e6e9ed\",\t//119\r\n  \"#fe1624\",\t//120\r\n  \"#cd2724\",\t//121\r\n  \"#9ccc65\",\t//122\r\n  \"#009c1b\",  //123\r\n  \"#ffff00\",  //124\r\n  \"#beb212\",\t//125\r\n  \"#f5d01d\",\t//126\r\n  \"#e37829\",\t//127\r\n];\r\n\r\n// const palette = [\r\n//   //LaunchpadXcolorPalette\r\n//   \"#000000\", //0\r\n//   \"#3F3F3F\", //1\r\n//   \"#7F7F7F\", //2\r\n//   \"#FFFFFF\", //3\r\n//   \"#FF3F3F\", //4\r\n//   \"#FF0000\", //5\r\n//   \"#7F0000\", //6\r\n//   \"#3F0000\", //7\r\n//   \"#FFBF6F\", //8\r\n//   \"#FF3F00\", //9\r\n//   \"#7F1F00\", //10\r\n//   \"#3F0F00\", //11\r\n//   \"#FFAF2F\", //12\r\n//   \"#FFFF00\", //13\r\n//   \"#7F7F00\", //14\r\n//   \"#3F3F00\", //15\r\n//   \"#7FFF2F\", //16\r\n//   \"#4FFF00\", //17\r\n//   \"#2F7F00\", //18\r\n//   \"#173F00\", //19\r\n//   \"#4FFF3F\", //20\r\n//   \"#00FF00\", //21\r\n//   \"#007F00\", //22\r\n//   \"#003F00\", //23\r\n//   \"#4FFF4F\", //24\r\n//   \"#00FF1F\", //25\r\n//   \"#007F0F\", //26\r\n//   \"#003F07\", //27\r\n//   \"#4FFF5F\", //28\r\n//   \"#00FF5F\", //29\r\n//   \"#007F2F\", //30\r\n//   \"#003F17\", //31\r\n//   \"#4FFFBF\", //32\r\n//   \"#00FF9F\", //33\r\n//   \"#007F4F\", //34\r\n//   \"#003F27\", //35\r\n//   \"#4FBFFF\", //36\r\n//   \"#00AFFF\", //37\r\n//   \"#00577F\", //38\r\n//   \"#002F3F\", //39\r\n//   \"#4F7FFF\", //40\r\n//   \"#0057FF\", //41\r\n//   \"#002F7F\", //42\r\n//   \"#00173F\", //43\r\n//   \"#2F1FFF\", //44\r\n//   \"#0000FF\", //45\r\n//   \"#00007F\", //46\r\n//   \"#00003F\", //47\r\n//   \"#5F3FFF\", //48\r\n//   \"#2F00FF\", //49\r\n//   \"#17007F\", //50\r\n//   \"#0F003F\", //51\r\n//   \"#FF3FFF\", //52\r\n//   \"#FF00FF\", //53\r\n//   \"#7F007F\", //54\r\n//   \"#3F003F\", //55\r\n//   \"#FF3F6F\", //56\r\n//   \"#FF004F\", //57\r\n//   \"#7F002F\", //58\r\n//   \"#3F001F\", //59\r\n//   \"#FF0F00\", //60\r\n//   \"#9F3F00\", //61\r\n//   \"#7F4F00\", //62\r\n//   \"#2F2F00\", //63\r\n//   \"#003F00\", //64\r\n//   \"#003F1F\", //65\r\n//   \"#001F6F\", //66\r\n//   \"#0000FF\", //67\r\n//   \"#003F3F\", //68\r\n//   \"#1F00BF\", //69\r\n//   \"#5F3F4F\", //70\r\n//   \"#1F0F17\", //71\r\n//   \"#FF0000\", //72\r\n//   \"#BFFF2F\", //73\r\n//   \"#AFEF00\", //74\r\n//   \"#5FFF00\", //75\r\n//   \"#0F7F00\", //76\r\n//   \"#00FF5F\", //77\r\n//   \"#009FFF\", //78\r\n//   \"#002FFF\", //79\r\n//   \"#1F00FF\", //80\r\n//   \"#5F00EF\", //81\r\n//   \"#AF1F7F\", //82\r\n//   \"#2F0F00\", //83\r\n//   \"#FF2F00\", //84\r\n//   \"#7FDF00\", //85\r\n//   \"#6FFF1F\", //86\r\n//   \"#00FF00\", //87\r\n//   \"#3FFF2F\", //88\r\n//   \"#5FEF6F\", //89\r\n//   \"#3FFFCF\", //90\r\n//   \"#5F8FFF\", //91\r\n//   \"#2F4FCF\", //92\r\n//   \"#6F4FDF\", //93\r\n//   \"#DF1FFF\", //94\r\n//   \"#FF005F\", //95\r\n//   \"#FF4F00\", //96\r\n//   \"#BFAF00\", //97\r\n//   \"#8FFF00\", //98\r\n//   \"#7F5F00\", //99\r\n//   \"#3F2F00\", //100\r\n//   \"#00470F\", //101\r\n//   \"#0F4F1F\", //102\r\n//   \"#17172F\", //103\r\n//   \"#171F5F\", //104\r\n//   \"#5F3717\", //105\r\n//   \"#7F0000\", //106\r\n//   \"#DF3F2F\", //107\r\n//   \"#DF470F\", //108\r\n//   \"#FFBF1F\", //109\r\n//   \"#9FDF2F\", //110\r\n//   \"#6FAF0F\", //111\r\n//   \"#17172F\", //112\r\n//   \"#DFDF6F\", //113\r\n//   \"#7FEF8F\", //114\r\n//   \"#9F9FFF\", //115\r\n//   \"#8F6FFF\", //116\r\n//   \"#3F3F3F\", //117\r\n//   \"#6F6F6F\", //118\r\n//   \"#DFFFFF\", //119\r\n//   \"#9F0000\", //120\r\n//   \"#370000\", //121\r\n//   \"#17CF00\", //122\r\n//   \"#003F00\", //123\r\n//   \"#BFAF00\", //124\r\n//   \"#3F2F00\", //125\r\n//   \"#AF4F00\", //126\r\n//   \"#4F0F00\"  //127\r\n// ];\r\n\r\nexport default palette","import React, { Component } from \"react\";\r\n// import ProjectFileReader from './Components/projectFileReader';\r\nimport Button from './Button'\r\nimport palette from '../palette'\r\nimport Spacer from './Spacer'\r\n\r\nclass Canvas extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    setInterval(() => {this.setState({colormap: this.state.colormap})}, 1000/60);\r\n  }\r\n\r\n  state = {  \r\n    colormap: new Array(this.props.layoutConfig.width).fill(null).map(\r\n      () => new Array(this.props.layoutConfig.height).fill(palette[0])),\r\n  };\r\n\r\n  keypressHistory = new Array(8).fill(null).map(\r\n              () => new Array(this.props.layoutConfig.width).fill(null).map(\r\n              () => new Array(this.props.layoutConfig.height).fill(0)));\r\n  currentChain = 0;\r\n  // overlay = \"#808080\";\r\n\r\n  // shouldUpdate = (nextProps) => !Object.is(this.props.layoutConfig, nextProps.layoutConfig);\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.layoutConfig !== this.props.layoutConfig) {\r\n      this.initlalizeCanvas();\r\n    }\r\n    if (prevProps.inputDevice !== this.props.inputDevice || prevProps.inputConfig !== this.props.inputConfig ) {\r\n      this.setupMidiInput(this.props.inputDevice, prevProps.inputDevice);\r\n    }\r\n    // if (prevProps.outputDevice !== this.props.outputDevice || prevProps.outputConfig !== this.props.outputConfig ) {\r\n    //   this.setupMidioutput(this.props.outputDevice, prevProps.outputDevice);\r\n    // }\r\n  }\r\n\r\n  initlalizeCanvas()\r\n  {\r\n    this.setState({colormap: new Array(this.props.layoutConfig.width).fill(null).map(\r\n      () => new Array(this.props.layoutConfig.height).fill(palette[0]))});\r\n    this.keypressHistory = new Array(8).fill(null).map(\r\n      () => new Array(this.props.layoutConfig.width).fill(null).map(\r\n      () => new Array(this.props.layoutConfig.height).fill(0)));\r\n    this.currentChain = 0;\r\n  }\r\n\r\n  setupMidiInput(newInput, oldInput)\r\n  {\r\n    console.log([newInput, oldInput])\r\n    if(oldInput != undefined)\r\n      oldInput.onmidimessage = null;\r\n    newInput.onmidimessage = this.midiInputHandler;\r\n  } \r\n\r\n  midiInputHandler = (midiMessage) =>\r\n  {\r\n    // console.log(midiMessage.data);\r\n    let [y,x] = this.indexOf2dArray(midiMessage.data[1], this.props.inputConfig.keymap);\r\n    if(x !== -1 && y !== -1)\r\n    {\r\n      // let [offseted_x, offseted_y] = this.arrayCalculation([x, y], this.props.inputConfig.canvas_origin, \"-\");\r\n      switch(midiMessage.data[0])\r\n      {\r\n        case 144:\r\n          if(midiMessage.data[2] != 0)\r\n          {\r\n            this.keyOn(x, y, this.props.inputConfig);\r\n            break;\r\n          }\r\n        case 128:\r\n          this.keyOff(x, y, this.props.inputConfig);\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  keyOn = (x, y, config = this.props.layoutConfig) => \r\n  {\r\n    console.log(\"Note On - \" + x.toString() + ' ' + y.toString());\r\n\r\n    let [offseted_x, offseted_y] = this.arrayCalculation([x, y], config.canvas_origin, \"-\");\r\n    console.log([x, y, offseted_x, offseted_y])\r\n\r\n    if(this.props.projectFile !== undefined)\r\n    {\r\n      //Sound\r\n      if(this.props.projectFile.keySound !== undefined && this.props.projectFile.keySound[this.currentChain] !== undefined && this.props.projectFile.keySound[this.currentChain][offseted_x] !== undefined && this.props.projectFile.keySound[this.currentChain][offseted_x][offseted_y].length > 0)\r\n      {\r\n        let soundIndex = this.keypressHistory[this.currentChain][x][y] % this.props.projectFile.keySound[this.currentChain][offseted_x][offseted_y].length;\r\n        // console.log('Play sound ${this.currentChain} ${offseted_x}')\r\n        this.props.projectFile.keySound[this.currentChain][offseted_x][offseted_y][soundIndex].stop();\r\n        this.props.projectFile.keySound[this.currentChain][offseted_x][offseted_y][soundIndex].play();\r\n      }\r\n\r\n      //LED\r\n      if(this.props.projectFile.keyLED !== undefined && this.props.projectFile.keyLED[this.currentChain] !== undefined && this.props.projectFile.keyLED[this.currentChain][offseted_x] !== undefined && this.props.projectFile.keyLED[this.currentChain][offseted_x][offseted_y].length > 0)\r\n      {\r\n        let ledIndex = this.keypressHistory[this.currentChain][x][y] % this.props.projectFile.keyLED[this.currentChain][offseted_x][offseted_y].length;\r\n        this.props.projectFile.keyLED[this.currentChain][offseted_x][offseted_y][ledIndex].play(this);\r\n      }\r\n\r\n      //Update History\r\n      if(this.keypressHistory[this.currentChain][x] != undefined && this.keypressHistory[this.currentChain][x][y] != undefined)\r\n        this.keypressHistory[this.currentChain][x][y] += 1;\r\n\r\n      //Chain Change\r\n      this.checkChain(x, y, config);\r\n    }\r\n  }\r\n\r\n  checkChain = (x, y, config) =>\r\n  {\r\n    for(var i = 0; i < config.chainKey.length; i++) {\r\n      if(config.chainKey[i][0] === x && config.chainKey[i][1] === y)\r\n        this.chainChange(i);\r\n    }\r\n  }\r\n\r\n  keyOff = (x, y) => \r\n  {\r\n    console.log(\"Note Off - \" + x.toString() + ' ' + y.toString());\r\n  }\r\n\r\n  playAutoplay = () =>\r\n  {\r\n    if(this.props.projectFile !== undefined && this.props.projectFile.autoplay !== undefined)\r\n    {\r\n      this.initlalizeCanvas();\r\n      this.props.projectFile.autoplay.play(this, this.props.layoutConfig.canvas_origin) \r\n    }\r\n    else\r\n    {\r\n      alert(\"No project loaded!\")\r\n    }\r\n  }\r\n\r\n  chainChange = (chain) =>\r\n  {\r\n    console.log(\"Chain Changed to \" + (chain + 1));\r\n    this.currentChain = chain;\r\n  }\r\n\r\n  setColorPalette = (x, y, p) =>\r\n  {\r\n    let [offseted_x, offseted_y] = this.arrayCalculation([x, y], this.props.layoutConfig.canvas_origin, \"+\");\r\n    this.state.colormap[offseted_x][offseted_y] = palette[p]\r\n    if(this.props.outputDevice != undefined)\r\n    {\r\n      let [output_offseted_x, output_offseted_y] = this.arrayCalculation([x, y], this.props.inputConfig.canvas_origin, \"+\");\r\n      this.sendMidi(\"NoteOn\", this.props.outputConfig.channel, this.props.outputConfig.keymap[output_offseted_y][output_offseted_x], p)\r\n    }\r\n  }\r\n\r\n  setMCColorPalette = (mc, p) =>\r\n  {\r\n    if(this.props.layoutConfig.mcTable[mc] != null)\r\n    {\r\n      let [x, y] = this.props.layoutConfig.mcTable[mc];\r\n      this.state.colormap[x][y] = palette[p]\r\n      if(this.props.outputDevice != undefined && this.props.outputConfig.mcTable[mc] != undefined)\r\n      {\r\n        let [device_x, device_y] = this.props.outputConfig.mcTable[mc];\r\n        this.sendMidi(\"NoteOn\", this.props.outputConfig.channel, this.props.outputConfig.keymap[device_y][device_x], p)\r\n      }\r\n    }\r\n  }\r\n\r\n  setColorHEX = (x, y, hex) =>\r\n  {\r\n    let [offseted_x, offseted_y] = this.arrayCalculation([x, y], this.props.layoutConfig.canvas_origin, \"+\");\r\n    this.state.colormap[offseted_x][offseted_y] = hex\r\n    this.sendSysex(this.props.outputConfig.hexSysexGen(x, y, hex))\r\n  }\r\n\r\n  setMCColorHEX = (mc, hex) =>\r\n  {\r\n    if(this.props.layoutConfig.mcTable[mc] != null)\r\n    {\r\n      let [x, y] = this.props.layoutConfig.mcTable[mc];\r\n      this.state.colormap[x][y] = hex\r\n    }\r\n    if(this.props.outputConfig.mcTable[mc] != null)\r\n    {\r\n      this.sendSysex(this.props.outputConfig.hexSysexGen(mc, hex))\r\n    }\r\n  }\r\n\r\n  sendMidi(mode, channel, note, value)\r\n  {\r\n    if(typeof(note) === \"string\")\r\n    {\r\n      let modeKey = note.charAt(0);\r\n      note = parseInt(note.substr(1))\r\n      switch(modeKey)\r\n      {\r\n        case \"C\":\r\n          mode = \"CC\"\r\n          break;\r\n        default:\r\n          return;\r\n      }\r\n    } \r\n    switch(mode)\r\n    {\r\n      case \"NoteOn\":\r\n        this.props.outputDevice.send([0x90 + channel - 1, note, value])\r\n          break;\r\n      case \"NoteOff\":\r\n        this.props.outputDevice.send([0x80 + channel - 1, note, value])\r\n        break;\r\n      case \"CC\":\r\n        this.props.outputDevice.send([0xB0 + channel - 1, note, value])\r\n        break;\r\n    }\r\n  }\r\n\r\n  sendSysex(message)\r\n  {\r\n    this.props.outputDevice.send(message)\r\n  }\r\n\r\n  // // Overlays a color\r\n  // colorOverlay = (hex, overlay) => {\r\n  //   let [r, g, b] = this.toRGB(hex)\r\n  //   let [r0, g0, b0] = this.toRGB(overlay)\r\n  //   r = Math.round(r * (255 - r0) / 255 + r0);\r\n  //   g = Math.round(g * (255 - g0) / 255 + g0);\r\n  //   b = Math.round(b * (255 - b0) / 255 + b0);\r\n  //   return this.toHEX(r, g, b)\r\n  // }\r\n\r\n  // // Converts a CHAD HEX color to a beta RGB color\r\n  // toRGB = (hex) => {\r\n  //   const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex)\r\n  //   return [parseInt(result[1], 16),\r\n  //           parseInt(result[2], 16),\r\n  //           parseInt(result[3], 16)]\r\n  // }\r\n\r\n  // // Converts a beta RGB color to a CHAD HEX color\r\n  // toHEX = (r, g, b) => '#' + this.componentToHex(r) + this.componentToHex(g) + this.componentToHex(b)\r\n\r\n  // // Converts the value of a given component to CHAD HEX\r\n  // componentToHex = (component) => {\r\n  //   const hex = component.toString(16)\r\n  //   return hex.length === 1 ? '0' + hex : hex\r\n  // }\r\n\r\n  arrayCalculation = (array1, array2, operation) =>\r\n  {\r\n    let newArray = [];\r\n    if(array1.length === array2.length)\r\n    {\r\n      switch(operation)\r\n      {\r\n        case \"+\":\r\n          for(var i = 0; i < array1.length; i++)\r\n          {\r\n            newArray.push(array1[i] + array2[i]);\r\n          }\r\n          return newArray;\r\n        case \"-\":\r\n          for(var i = 0; i < array1.length; i++)\r\n          {\r\n            newArray.push(array1[i] - array2[i]);\r\n          }\r\n          return newArray;\r\n      }\r\n    }\r\n  }\r\n\r\n  indexOf2dArray(id, matrix) {\r\n    for (var i=0, len=matrix.length; i<len; i++) {\r\n      for (var j=0, len2=matrix[i].length; j<len2; j++) {\r\n        if (matrix[i][j] === id) { return [i, j]; }\r\n      }\r\n    }\r\n    return [-1, -1];\r\n  }\r\n  \r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.props.layoutConfig.layout.map((value, y) => {\r\n          return (\r\n            <div className='button-row'>\r\n              {this.props.layoutConfig.layout[y].map((value, x) => {\r\n                switch (value) {\r\n                  case \"◻\":\r\n                    return <Button x={x} y={y} class=\"LEDButtonSquare\"color={this.state.colormap[x][y]} on={this.keyOn} off={this.keyOff}/>;\r\n                  case \"⬤\":\r\n                    return <Button x={x} y={y} class=\"LEDButtonCircle75\" color={this.state.colormap[x][y]} on={this.keyOn} off={this.keyOff}/>;\r\n                  case \"◪\":\r\n                  case \"⬕\":\r\n                  case \"⬔\":\r\n                  case \"◩\":\r\n                    return <Button x={x} y={y} class=\"LEDButtonSquare\" color={this.state.colormap[x][y]} on={this.keyOn} Zoff={this.keyOff}/>;\r\n                  default:\r\n                    return <div id='spacer' style={{\r\n                      width: '96px'\r\n                    }}></div>;\r\n                }\r\n              })}\r\n            </div>\r\n          );\r\n        })}\r\n      {/* <button onClick={this.playAutoplay}>Auto Play</button> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Canvas","import React, { Component } from 'react'\r\nimport Pallete from '../palette'\r\n\r\nclass Spacer extends Component {\r\n    state = {}\r\n\r\n    setColor = (velocity) => {\r\n    }\r\n\r\n    render = () => (\r\n        <div>\r\n            <Spacer/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Spacer","const deviceConfigs = {\r\n  \"Launchpad Pro\":\r\n  {\r\n    channel: 1,\r\n    midiNameRegex: \"^Launchpad Pro\",\r\n    \r\n    layout: [\r\n      [\"　\", \"⬤\", \"⬤\", \"⬤\", \"⬤\", \"⬤\", \"⬤\", \"⬤\", \"⬤\", \"　\"],\r\n      [\"⬤\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"⬤\"],\r\n      [\"⬤\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"⬤\"],\r\n      [\"⬤\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"⬤\"],\r\n      [\"⬤\", \"◻\", \"◻\", \"◻\", \"◪\", \"⬕\", \"◻\", \"◻\", \"◻\", \"⬤\"],\r\n      [\"⬤\", \"◻\", \"◻\", \"◻\", \"⬔\", \"◩\", \"◻\", \"◻\", \"◻\", \"⬤\"],\r\n      [\"⬤\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"⬤\"],\r\n      [\"⬤\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"⬤\"],\r\n      [\"⬤\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"⬤\"],\r\n      [\"　\", \"⬤\", \"⬤\", \"⬤\", \"⬤\", \"⬤\", \"⬤\", \"⬤\", \"⬤\", \"　\"]],\r\n\r\n    keymap: [\r\n      [null, 28, 29, 30, 31, 32, 33, 34, 35, null],\r\n      [108, 64, 65, 66, 67, 96, 97, 98, 99, 100], \r\n      [109, 60, 61, 62, 63, 92, 93, 94, 95, 101],\r\n      [110, 56, 57, 58, 59, 88, 89, 90, 91, 102],\r\n      [111, 52, 53, 54, 55, 84, 85, 86, 87, 103],\r\n      [112, 48, 49, 50, 51, 80, 81, 82, 83, 104],\r\n      [113, 44, 45, 46, 47, 76, 77, 78, 79, 105],\r\n      [114, 40, 41, 42, 43, 72, 73, 74, 75, 106],\r\n      [115, 36, 37, 38, 39, 68, 69, 70, 71, 107],\r\n      [null, 116, 117, 118, 119, 120, 121, 122, 123, null]],\r\n\r\n    //Size of LED since sometimes Key can come without LED. We don't really need them since we can load the size of layout array\r\n    width: 10, \r\n    height: 10,\r\n\r\n    //UI related\r\n    padding: 25,\r\n    radius: 15,\r\n    \r\n    canvas_origin: [1,1],\r\n\r\n    chainKey: [[9,1], [9,2], [9,3], [9,4], [9,5], [9,6], [9,7], [9,8]],\r\n\r\n    mcTable: [\r\n      [1,0], [2,0], [3,0], [4,0], [5,0], [6,0], [7,0], [8,0],\r\n      [9,1], [9,2], [9,3], [9,4], [9,5], [9,6], [9,7], [9,8],\r\n      [8,9], [7,9], [6,9], [5,9], [4,9], [3,9], [2,9], [1,9],\r\n      [0,8], [0,7], [0,6], [0,5], [0,4], [0,3], [0,2], [0,1]],\r\n\r\n    hexSysexGen: function()\r\n    {\r\n      if(arguments.length != 2 && arguments.length != 3)\r\n        return [] //Error\r\n      switch(arguments.length)\r\n      {\r\n        case 2: //MC\r\n          var mc = arguments[0]\r\n          if(this.mcTable[mc] == null)\r\n            return []\r\n          var x,y = this.mcTable[mc]\r\n          var hex = arguments[1]\r\n        case 3: //XY\r\n          var x = arguments[0] + 1\r\n          var y = arguments[1] + 1\r\n          var hex = arguments[2]\r\n        default:\r\n          var xy = x * 10 + y\r\n          var r = (hex >> 16) >> 2 //6 bit color\r\n          var g = (hex & 0xFF00 >> 8) >> 2\r\n          var b = (hex & 0xFF) >> 2\r\n          return [240, 0, 32, 41, 2, 24, 11, xy, r, g, b, 247]\r\n      }\r\n    }\r\n  },\r\n  \"Launchpad MK2\":\r\n  {\r\n    channel: 1,\r\n    midiNameRegex: \"^Launchpad MK2\",\r\n    \r\n    layout: [\r\n      [\"⬤\", \"⬤\", \"⬤\", \"⬤\", \"⬤\", \"⬤\", \"⬤\", \"⬤\", \"　\"],\r\n      [\"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"⬤\"],\r\n      [\"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"⬤\"],\r\n      [\"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"⬤\"],\r\n      [\"◻\", \"◻\", \"◻\", \"◪\", \"⬕\", \"◻\", \"◻\", \"◻\", \"⬤\"],\r\n      [\"◻\", \"◻\", \"◻\", \"⬔\", \"◩\", \"◻\", \"◻\", \"◻\", \"⬤\"],\r\n      [\"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"⬤\"],\r\n      [\"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"⬤\"],\r\n      [\"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"⬤\"]],\r\n\r\n    keymap: [\r\n      [\"C104\", \"C105\", \"C106\", \"C107\", \"C108\", \"C109\", \"C110\", \"C111\", null],\r\n      [81, 82, 83, 84, 85, 86, 87, 88, 89],  \r\n      [71, 72, 73, 74, 75, 76, 77, 78, 79], \r\n      [61, 62, 63, 64, 65, 66, 67, 68, 69], \r\n      [51, 52, 53, 54, 55, 56, 57, 58, 59], \r\n      [41, 42, 43, 44, 45, 46, 47, 48, 49], \r\n      [31, 32, 33, 34, 35, 36, 37, 38, 39], \r\n      [21, 22, 23, 24, 25, 26, 27, 28, 29], \r\n      [11, 12, 13, 14, 15, 16, 17, 18, 19]],\r\n\r\n    width: 9, \r\n    height: 9,\r\n\r\n    //UI related\r\n    padding: 25,\r\n    radius: 15,\r\n    \r\n    canvas_origin: [0,1],\r\n\r\n    chainKey: [[8,1], [8,2], [8,3], [8,4], [8,5], [8,6], [8,7], [8,8]],\r\n\r\n    mcTable: [\r\n      [0,0], [1,0], [2,0], [3,0], [4,0], [5,0], [6,0], [7,0],\r\n      [8,1], [8,2], [8,3], [8,4], [8,5], [8,6], [8,7], [8,8],\r\n      null, null, null, null, null, null, null, null,\r\n      null, null, null, null, null, null, null, null,],\r\n\r\n    hexSysexGen: function()\r\n    {\r\n      if(arguments.length != 2 && arguments.length != 3)\r\n        return [] //Error\r\n      switch(arguments.length)\r\n      {\r\n        case 2: //MC\r\n          var mc = arguments[0]\r\n          if(this.mcTable[mc] == null)\r\n            return []\r\n          var x,y = this.mcTable[mc]\r\n          var hex = arguments[1]\r\n        case 3: //XY\r\n          var x = arguments[0] + 1\r\n          var y = arguments[1] + 1\r\n          var hex = arguments[2]\r\n        default:\r\n          var xy = x * 10 + y\r\n          var r = (hex >> 16) >> 2 //6 bit color\r\n          var g = (hex & 0xFF00 >> 8) >> 2\r\n          var b = (hex & 0xFF) >> 2\r\n          return [240, 0, 32, 41, 2, 24, 11, xy, r, g, b, 247]\r\n      }\r\n    }\r\n  },\r\n  //Launchpad X\r\n  // {\r\n  //   name: \"Launchpad X\",\r\n    \r\n  //   layout: [\r\n  //     [\"◼\", \"◼\", \"◼\", \"◼\", \"◼\", \"◼\", \"◼\", \"◼\", \"◻\"],\r\n  //     [\"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◼\"],\r\n  //     [\"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◼\"],\r\n  //     [\"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◼\"],\r\n  //     [\"◻\", \"◻\", \"◻\", \"◪\", \"⬕\", \"◻\", \"◻\", \"◻\", \"◼\"],\r\n  //     [\"◻\", \"◻\", \"◻\", \"⬔\", \"◩\", \"◻\", \"◻\", \"◻\", \"◼\"],\r\n  //     [\"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◼\"],\r\n  //     [\"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◼\"],\r\n  //     [\"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◼\"]],\r\n\r\n  //   keymap: [\r\n  //     [108, 109, 110, 111, 112, 113, 114, 115, null],\r\n  //     [64, 65, 66, 67, 96, 97, 98, 99, 100], \r\n  //     [60, 61, 62, 63, 92, 93, 94, 95, 101],\r\n  //     [56, 57, 58, 59, 88, 89, 90, 91, 102],\r\n  //     [52, 53, 54, 55, 84, 85, 86, 87, 103],\r\n  //     [48, 49, 50, 51, 80, 81, 82, 83, 104],\r\n  //     [44, 45, 46, 47, 76, 77, 78, 79, 105],\r\n  //     [40, 41, 42, 43, 72, 73, 74, 75, 106],\r\n  //     [36, 37, 38, 39, 68, 69, 70, 71, 107]],\r\n\r\n  //   width: 9, \r\n  //   height: 9,\r\n    \r\n  //   canvas_origin: [0,1],\r\n\r\n  //   chainKey: [[8,1], [8,2], [8,3], [8,4], [8,5], [8,6], [8,7], [8,8]],\r\n  //   mcTable: [\r\n  //     [8,9], [1,9], [2,9], [3,9], [4,9], [5,9], [6,9], [7,9],\r\n  //     [9,0], [9,1], [9,2], [9,3], [9,4], [9,5], [9,6], [9,7],\r\n  //     null, null, null, null, null, null, null, null,\r\n  //     null, null, null, null, null, null, null, null,],\r\n  // },\r\n  \"203 Matrix\":\r\n  {\r\n    channel: 2,\r\n    midiNameRegex: \"^Matrix\",\r\n    \r\n    layout: [\r\n      [\"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\"],\r\n      [\"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\"],\r\n      [\"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\"],\r\n      [\"◻\", \"◻\", \"◻\", \"◪\", \"⬕\", \"◻\", \"◻\", \"◻\"],\r\n      [\"◻\", \"◻\", \"◻\", \"⬔\", \"◩\", \"◻\", \"◻\", \"◻\"],\r\n      [\"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\"],\r\n      [\"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\"],\r\n      [\"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\", \"◻\"]],\r\n\r\n    keymap: [\r\n      [64, 65, 66, 67, 96, 97, 98, 99], \r\n      [60, 61, 62, 63, 92, 93, 94, 95],\r\n      [56, 57, 58, 59, 88, 89, 90, 91],\r\n      [52, 53, 54, 55, 84, 85, 86, 87],\r\n      [48, 49, 50, 51, 80, 81, 82, 83],\r\n      [44, 45, 46, 47, 76, 77, 78, 79],\r\n      [40, 41, 42, 43, 72, 73, 74, 75],\r\n      [36, 37, 38, 39, 68, 69, 70, 71],\r\n      [100, 101, 102, 103, 104, 105, 106, 107]],\r\n\r\n    width: 8, \r\n    height: 8,\r\n\r\n    //UI related\r\n    padding: 20,\r\n    radius: 15,\r\n    \r\n    canvas_origin: [0,0],\r\n\r\n    chainKey: [[0,8], [1,8], [2,8], [3,8], [4,8], [5,8], [6,8], [7,8]],\r\n\r\n    mcTable: [\r\n      null, null, null, null, null, null, null, null,\r\n      null, null, null, null, null, null, null, null,\r\n      null, null, null, null, null, null, null, null,\r\n      null, null, null, null, null, null, null, null,],\r\n\r\n    hexSysexGen: function()\r\n      {\r\n        if(arguments.length != 3)\r\n          return [] //Error\r\n        switch(arguments.length)\r\n        {\r\n          // case 2: //MC\r\n          //   var mc = arguments[0]\r\n          //   if(this.mcTable[mc] == null)\r\n          //     return []\r\n          //   var x,y = this.mcTable[mc]\r\n          //   var hex = arguments[1]\r\n          case 3: //XY\r\n            var x = arguments[0]\r\n            var y = arguments[1]\r\n            var hex = arguments[2]\r\n          default:\r\n            var r = (hex >> 16) >> 1 //7 bit color\r\n            var g = (hex & 0xFF00 >> 8) >> 1\r\n            var b = (hex & 0xFF) >> 1\r\n            return [240, 0, 2, 3, 1, 0, 18, 32, 0, 3, r, g, b, 247]\r\n        }\r\n      }\r\n  },\r\n}\r\n\r\nexport default deviceConfigs;","import React, { Component } from \"react\";\r\nimport Navbar from \"./Navbar\";\r\nimport ProjectFileReader from \"./ProjectFileReader\";\r\nimport Button from \"./Button\";\r\nimport Canvas from \"./Canvas\";\r\nimport deviceConfigs from \"../deviceConfigs\";\r\nimport Selector from \"./Selector\";\r\n\r\nconst options = [\r\n  {\r\n    name: \"h\",\r\n    value: \"h\",\r\n  },\r\n];\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    navigator.requestMIDIAccess().then(this.onMIDISuccess, this.onMIDIFailure);\r\n  }\r\n\r\n  state = {\r\n    projectFile: undefined,\r\n    color: \"#000000\",\r\n    layoutConfig: deviceConfigs[\"Launchpad Pro\"], //Default Launchpad Pro\r\n    inputDevice: undefined,\r\n    inputConfig: undefined,\r\n    outputDevice: undefined,\r\n    outputConfig: undefined,\r\n  };\r\n\r\n  updateProjectFile = (newProjectFile) => {\r\n    this.setState({ projectFile: newProjectFile });\r\n  };\r\n\r\n  onMIDISuccess = (midiAccess) => {\r\n    console.log(\"Got access your MIDI devices.\");\r\n    console.log(\"Input -\");\r\n    for (var input of midiAccess.inputs.values()) {\r\n      console.log(input.name);\r\n      if (input.name.includes(\"Matrix\")) {\r\n        console.log(input.name + \" Input Assigned\");\r\n        this.setState({ inputDevice: input });\r\n        this.setState({ inputConfig: deviceConfigs[\"Launchpad Pro\"] });\r\n        // input.onmidimessage = this.midiInputHandler;\r\n        // console.log()\r\n      }\r\n    }\r\n\r\n    console.log(\"Output -\");\r\n    for (var output of midiAccess.outputs.values()) {\r\n      console.log(output.name);\r\n      if (input.name.includes(\"Matrix\")) {\r\n        console.log(output.name + \" Input Assigned\");\r\n        this.setState({ outputDevice: output });\r\n        this.setState({ outputConfig: deviceConfigs[\"Launchpad Pro\"] });\r\n      }\r\n    }\r\n  };\r\n\r\n  autoConfigPicker(deviceName, mode) {//mode 0 for input, mode 1 for output\r\n    Object.keys(deviceConfigs).forEach(([key, value]) => {\r\n      if (deviceName.match(value) !== null) {\r\n        // TODO\r\n      }\r\n    });\r\n    alert(`Unable to find matching ${mode ? \"output\" : \"input\"} config for device ${deviceName}`);\r\n  }\r\n\r\n  onMIDIFailure() {\r\n    console.log(\"Could not access your MIDI devices.\");\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <div\r\n          className=\"canvas\"\r\n          style={{\r\n            padding: this.state.layoutConfig.padding,\r\n            \"border-radius\": this.state.layoutConfig.radius,\r\n          }}\r\n        >\r\n          <Canvas\r\n            projectFile={this.state.projectFile}\r\n            layoutConfig={this.state.layoutConfig}\r\n            inputDevice={this.state.inputDevice}\r\n            inputConfig={this.state.inputConfig}\r\n            outputDevice={this.state.outputDevice}\r\n            outputConfig={this.state.outputConfig}\r\n          />\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/index.css';\r\nimport './styles/main.css'\r\nimport App from './Components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n  ReactDOM.render(<App/>, document.getElementById(\"root\"))\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}