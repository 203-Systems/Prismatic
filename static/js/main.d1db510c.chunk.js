(this.webpackJsonpprismatic=this.webpackJsonpprismatic||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n(0),i=n.n(o),r=n(12),s=n.n(r),u=(n(29),n(30),n(9)),c=n(2),l=n(3),p=n(4),f=n(8),h=(o.Component,n(10)),d=n.n(h),v=n(7),b=n(14),y=n(23),g=function(){function e(t,n){var a=this;Object(c.a)(this,e),this.keyLED=void 0,this.repeat=1,this.play=function(){var e=Object(b.a)(d.a.mark((function e(t){var n,o,i,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<a.repeat)){e.next=33;break}o=Object(u.a)(a.keyLED),e.prev=3,o.s();case 5:if((i=o.n()).done){e.next=22;break}if(r=i.value,!((s=r.split(" ")).length<2)){e.next=10;break}return e.abrupt("continue",20);case 10:e.t0=s[0],e.next="o"===e.t0||"on"===e.t0?13:"f"===e.t0||"off"===e.t0?15:"d"===e.t0?17:20;break;case 13:return 5===s.length?"mc"!==s[1]?t.setColorPalette(parseInt(s[2]-1),parseInt(s[1]-1),parseInt(s[4])):t.setMCColorPalette(parseInt(s[2]-1),parseInt(s[4])):4===s.length&&("mc"!==s[1]?t.setColorHEX(parseInt(s[2]-1),parseInt(s[1]-1),"#"+s[3]):t.setMCColorHEX(parseInt(s[2]-1),"#"+s[3])),e.abrupt("break",20);case 15:return"mc"!==s[1]?t.setColorPalette(parseInt(s[2]-1),parseInt(s[1]-1),0):t.setMCColorPalette(parseInt(s[2]-1),0),e.abrupt("break",20);case 17:return e.next=19,a.wait(parseInt(s[1]));case 19:return e.abrupt("break",20);case 20:e.next=5;break;case 22:e.next=27;break;case 24:e.prev=24,e.t1=e.catch(3),o.e(e.t1);case 27:return e.prev=27,o.f(),e.finish(27);case 30:n++,e.next=1;break;case 33:case"end":return e.stop()}}),e,null,[[3,24,27,30]])})));return function(t){return e.apply(this,arguments)}}(),this.keyLED=t,this.repeat=n}return Object(l.a)(e,[{key:"wait",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}}]),e}(),C=function(){function e(t){var n=this;Object(c.a)(this,e),this.autoplay=void 0,this.play=function(){var e=Object(b.a)(d.a.mark((function e(t,a){var o,i,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a),o=Object(u.a)(n.autoplay),e.prev=2,o.s();case 4:if((i=o.n()).done){e.next=24;break}if(r=i.value,console.log(r),!((s=r.split(" ")).length<2)){e.next=10;break}return e.abrupt("continue",22);case 10:e.t0=s[0],e.next="t"===e.t0||"o"===e.t0?13:"f"===e.t0?15:"d"===e.t0?17:"c"===e.t0||"chain"===e.t0?20:22;break;case 13:return t.keyOn(parseInt(s[2])-1+a[0],parseInt(s[1])-1+a[1]),e.abrupt("break",22);case 15:return t.keyOff(parseInt(s[2])-1+a[0],parseInt(s[1])-1+a[1]),e.abrupt("break",22);case 17:return e.next=19,n.wait(parseInt(s[1]));case 19:return e.abrupt("break",22);case 20:return t.chainChange(parseInt(s[1])-1),e.abrupt("break",22);case 22:e.next=4;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(2),o.e(e.t1);case 29:return e.prev=29,o.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[2,26,29,32]])})));return function(t,n){return e.apply(this,arguments)}}(),this.autoplay=t}return Object(l.a)(e,[{key:"wait",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}}]),e}(),m=function(){function e(t){Object(c.a)(this,e),this.info={},this.keySound=void 0,this.autoplay=void 0,this.keyLED=void 0,this.unpack(t)}return Object(l.a)(e,[{key:"unpack",value:function(){var e=Object(b.a)(d.a.mark((function e(t){var a,o,i,r,s,c,l,p,f,h,b,m,j,k,O,x,w,D,I,S,N,L,F,A=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0,o=n(32),e.next=4,o.loadAsync(t).then((function(e){a=Object.values(e.files)}),(function(e){alert("Failed to extract selected file"),console.log(e)}));case 4:i=void 0,r=void 0,s=void 0,c={},l={},p=Object(u.a)(a),e.prev=10,p.s();case 12:if((f=p.n()).done){e.next=52;break}if((h=f.value).name.endsWith("/")){e.next=50;break}if(!h.name.toLowerCase().includes("sounds/")){e.next=20;break}console.log("Sound file: "+h.name),c[h.name.split("/").pop()]=h,e.next=50;break;case 20:return e.next=22,h.async("text");case 22:if(b=(b=e.sent).split(/\r?\n/),!h.name.toLowerCase().endsWith("info")){e.next=49;break}if(console.log("Info file: "+h.name),i=h.name.slice(0,-4),console.log(" project root: "+i),b.forEach((function(e){return A.info[e.split("=")[0]]=e.split("=")[1]})),this.info.buttonX=parseInt(this.info.buttonX),this.info.buttonY=parseInt(this.info.buttonY),this.info.chain=parseInt(this.info.chain),this.info.squareButton="true"===this.info.squareButton,this.info.landscape="true"===this.info.landscape,console.log(" title: "+this.info.title),console.log(" producerName: "+this.info.producerName),console.log(" buttonX: "+this.info.buttonX),console.log(" buttonY: "+this.info.buttonY),console.log(" chain: "+this.info.chain),console.log(" squareButton: "+this.info.squareButton),console.log(" landscape: "+this.info.landscape),8===this.info.buttonX&&8===this.info.buttonY){e.next=44;break}return alert("Only 8x8 Unipad project are supported"),e.abrupt("return");case 44:if(!(this.info.chain>8)){e.next=47;break}return alert("Only Unipad project that has within 8 chains are supported"),e.abrupt("return");case 47:e.next=50;break;case 49:h.name.toLowerCase().endsWith("keysound")?(console.log("KeySound file: "+h.name),r=b):h.name.toLowerCase().endsWith("autoplay")?(console.log("AutoPlay file: "+h.name),s=b):h.name.toLowerCase().includes("keyled/")?(console.log("KeyLED file: "+h.name),l[h.name]=b):console.log("Unknown file: "+h.name);case 50:e.next=12;break;case 52:e.next=57;break;case 54:e.prev=54,e.t0=e.catch(10),p.e(e.t0);case 57:return e.prev=57,p.f(),e.finish(57);case 60:for(this.keySound=new Array(this.info.chain).fill(null).map((function(){return new Array(A.info.buttonX).fill(null).map((function(){return new Array(A.info.buttonY).fill(null).map((function(){return new Array}))}))})),this.keyLED=new Array(this.info.chain).fill(null).map((function(){return new Array(A.info.buttonX).fill(null).map((function(){return new Array(A.info.buttonY).fill(null).map((function(){return new Array}))}))})),m=0,j=Object.entries(l);m<j.length;m++)k=Object(v.a)(j[m],2),O=k[0],x=k[1],5===(w=O.split("/").pop().split(" ")).length?this.keyLED[parseInt(w[0])-1][parseInt(w[2])-1][parseInt(w[1])-1][w[4].charCodeAt(0)-97]=new g(x,parseInt(w[3])):4===w.length?this.keyLED[parseInt(w[0])-1][parseInt(w[2])-1][parseInt(w[1])-1]=[new g(x,parseInt(w[3]))]:console.warn("Unknown keyLED file name: "+O);D=Object(u.a)(r),e.prev=64,D.s();case 66:if((I=D.n()).done){e.next=79;break}if(S=I.value,!((N=S.split(" ")).length<2)){e.next=71;break}return e.abrupt("continue",77);case 71:return e.next=73,c[N[3]].async("blob");case 73:L=e.sent,L=window.URL.createObjectURL(L),F=N[3].split(".").pop(),this.keySound[parseInt(N[0])-1][parseInt(N[2])-1][parseInt(N[1])-1].push(new y.Howl({src:[L],format:[F]}));case 77:e.next=66;break;case 79:e.next=84;break;case 81:e.prev=81,e.t1=e.catch(64),D.e(e.t1);case 84:return e.prev=84,D.f(),e.finish(84);case 87:this.autoplay=new C(s);case 88:case"end":return e.stop()}}),e,this,[[10,54,57,60],[64,81,84,87]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),j=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onFileChange=function(t){e.props.updateProjectFile(new m(t.target.files[0]))},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("label",{children:"Select a project file:"}),Object(a.jsx)("input",{type:"file",id:"projectFilePicker",name:"projectFile",accept:".zip",onChange:this.onFileChange})]})}}]),n}(o.Component),k=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={keyState:!1},e.on=function(){return e.props.on(e.props.x,e.props.y)},e.off=function(){e.keyState&&(e.keyState=!e.keyState,e.props.off(e.props.x,e.props.y))},e.shouldUpdate=function(t){return e.props.color!==t.color},e.render=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("button",{onMouseDown:e.on,onTouchStart:e.on,className:e.props.class,style:{backgroundColor:e.props.color}})})},e}return n}(o.Component),O=n(11),x=["#808080","#dadfe4","#e6e9ed","#fafafa","#f8bbd0","#ef5350","#e57373","#ef9a9a","#fff3e0","#ffa726","#ffb960","#ffcc80","#ffe0b2","#ffee58","#fff59d","#fff9c4","#dcedc8","#8bc34a","#aed581","#bfdf9f","#5ee2b0","#00ce3c","#00ba43","#119c3f","#57ecc1","#00e864","#00e05c","#00d545","#7afddd","#00e4c5","#00e0b2","#01eec6","#49efef","#00e7d8","#00e5d1","#01efde","#6addff","#00dafe","#01d6ff","#08acdc","#73cefe","#0d9bf7","#148de4","#2a77c9","#8693ff","#2196f3","#4668f6","#4153dc","#b095ff","#8453fd","#634acd","#5749c5","#ffb7ff","#e863fb","#d655ed","#d14fe9","#fc99e3","#e736c2","#e52fbe","#e334b6","#ed353e","#ffa726","#f4df0b","#66bb6a","#5cd100","#00d29e","#2388ff","#3669fd","#00b4d0","#475cdc","#f2f3f5","#eef0f2","#f72737","#d2ea7b","#c8df10","#7fe422","#00c931","#00d7a6","#00d8fc","#0b9bfc","#585cf5","#ac59f0","#d980dc","#b8814a","#ff9800","#abdf22","#9ee154","#66bb6a","#3bda47","#6fdeb9","#27dbda","#9cc8fd","#79b8f7","#afafef","#d580eb","#f74fca","#ea8a1f","#dbdb08","#9cd60d","#f3d335","#c8af41","#00ca69","#24d2b0","#757ebe","#5388db","#e5c5a6","#e93b3b","#f9a2a1","#ed9c65","#e1ca72","#b8da78","#98d52c","#626cbd","#cac8a0","#90d4c2","#ceddfe","#beccf7","#d2d7de","#dadfe4","#e6e9ed","#fe1624","#cd2724","#9ccc65","#009c1b","#ffff00","#beb212","#f5d01d","#e37829"],w=(o.Component,function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={colormap:new Array(a.props.layoutConfig.width).fill(null).map((function(){return new Array(a.props.layoutConfig.height).fill(x[0])}))},a.keypressHistory=new Array(8).fill(null).map((function(){return new Array(a.props.layoutConfig.width).fill(null).map((function(){return new Array(a.props.layoutConfig.height).fill(0)}))})),a.currentChain=0,a.midiInputHandler=function(e){console.log(e.data);var t=a.indexOf2dArray(e.data[1],a.props.inputConfig.keymap),n=Object(v.a)(t,2),o=n[0],i=n[1];if(NaN!==i&&NaN!==o)switch(e.data[0]){case 144:if(0!=e.data[2]){a.keyOn(i,o,a.props.inputConfig);break}case 128:a.keyOff(i,o,a.props.inputConfig)}},a.keyOn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.props.layoutConfig;console.log("Note On - "+e.toString()+" "+t.toString());var o=a.arrayCalculation([e,t],n.canvas_origin,"-"),i=Object(v.a)(o,2),r=i[0],s=i[1];if(console.log([e,t,r,s]),void 0!==a.props.projectFile){if(void 0!==a.props.projectFile.keySound&&void 0!==a.props.projectFile.keySound[a.currentChain]&&void 0!==a.props.projectFile.keySound[a.currentChain][r]&&void 0!==a.props.projectFile.keySound[a.currentChain][r][s]&&a.props.projectFile.keySound[a.currentChain][r][s].length>0){var u=a.keypressHistory[a.currentChain][e][t]%a.props.projectFile.keySound[a.currentChain][r][s].length;a.props.projectFile.keySound[a.currentChain][r][s][u].stop(),a.props.projectFile.keySound[a.currentChain][r][s][u].play()}if(void 0!==a.props.projectFile.keyLED&&void 0!==a.props.projectFile.keyLED[a.currentChain]&&void 0!==a.props.projectFile.keyLED[a.currentChain][r]&&void 0!==a.props.projectFile.keyLED[a.currentChain][r][s]&&a.props.projectFile.keyLED[a.currentChain][r][s].length>0){var c=a.keypressHistory[a.currentChain][e][t]%a.props.projectFile.keyLED[a.currentChain][r][s].length;a.props.projectFile.keyLED[a.currentChain][r][s][c].play(Object(O.a)(a))}void 0!=a.keypressHistory[a.currentChain][e]&&void 0!=a.keypressHistory[a.currentChain][e][t]&&(a.keypressHistory[a.currentChain][e][t]+=1),a.checkChain(e,t,n)}},a.checkChain=function(e,t,n){for(var o=0;o<n.chainKey.length;o++)n.chainKey[o][0]===e&&n.chainKey[o][1]===t&&a.chainChange(o)},a.keyOff=function(e,t){console.log("Note Off - "+e.toString()+" "+t.toString())},a.playAutoplay=function(){void 0!==a.props.projectFile&&void 0!==a.props.projectFile.autoplay?(a.initlalizeCanvas(),a.props.projectFile.autoplay.play(Object(O.a)(a),a.props.layoutConfig.canvas_origin)):alert("No project loaded!")},a.chainChange=function(e){console.log("Chain Changed to "+(e+1)),a.currentChain=e},a.setColorPalette=function(e,t,n){var o=a.arrayCalculation([e,t],a.props.layoutConfig.canvas_origin,"+"),i=Object(v.a)(o,2),r=i[0],s=i[1];if(a.state.colormap[r][s]=x[n],void 0!=a.props.outputDevice){var u=a.arrayCalculation([e,t],a.props.inputConfig.canvas_origin,"+"),c=Object(v.a)(u,2),l=c[0],p=c[1];a.sendMidi("NoteOn",a.props.outputConfig.channel,a.props.outputConfig.keymap[p][l],n)}},a.setMCColorPalette=function(e,t){if(null!=a.props.layoutConfig.mcTable[e]){var n=Object(v.a)(a.props.layoutConfig.mcTable[e],2),o=n[0],i=n[1];if(a.state.colormap[o][i]=x[t],void 0!=a.props.outputDevice&&void 0!=a.props.outputConfig.mcTable[e]){var r=Object(v.a)(a.props.outputConfig.mcTable[e],2),s=r[0],u=r[1];a.sendMidi("NoteOn",a.props.outputConfig.channel,a.props.outputConfig.keymap[u][s],t)}}},a.setColorHEX=function(e,t,n){var o=a.arrayCalculation([e,t],a.props.layoutConfig.canvas_origin,"+"),i=Object(v.a)(o,2),r=i[0],s=i[1];a.state.colormap[r][s]=n,a.sendSysex(a.props.outputConfig.hexSysexGen(e,t,n))},a.setMCColorHEX=function(e,t){if(null!=a.props.layoutConfig.mcTable[e]){var n=Object(v.a)(a.props.layoutConfig.mcTable[e],2),o=n[0],i=n[1];a.state.colormap[o][i]=t}null!=a.props.outputConfig.mcTable[e]&&a.sendSysex(a.props.outputConfig.hexSysexGen(e,t))},a.arrayCalculation=function(e,t,n){var a=[];if(e.length===t.length)switch(n){case"+":for(var o=0;o<e.length;o++)a.push(e[o]+t[o]);return a;case"-":for(o=0;o<e.length;o++)a.push(e[o]-t[o]);return a}},setInterval((function(){a.setState({colormap:a.state.colormap})}),1e3/60),a}return Object(l.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.layoutConfig!==this.props.layoutConfig&&this.initlalizeCanvas(e.layoutConfig),e.inputDevice!==this.props.inputDevice&&this.setupMidiInput(e.inputDevice,this.props.inputDevice),!0}},{key:"initlalizeCanvas",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.layoutConfig;this.state.colormap=new Array(e.width).fill(null).map((function(){return new Array(e.height).fill(x[0])})),this.keypressHistory=new Array(8).fill(null).map((function(){return new Array(e.width).fill(null).map((function(){return new Array(e.height).fill(0)}))})),this.currentChain=0}},{key:"setupMidiInput",value:function(e,t){void 0!==t&&(t.onmidimessage=null),void 0!==e&&(e.onmidimessage=this.midiInputHandler)}},{key:"sendMidi",value:function(e,t,n,a){if("string"===typeof n){var o=n.charAt(0);switch(n=parseInt(n.substr(1)),o){case"C":e="CC";break;default:return}}switch(e){case"NoteOn":this.props.outputDevice.send([144+t-1,n,a]);break;case"NoteOff":this.props.outputDevice.send([128+t-1,n,a]);break;case"CC":this.props.outputDevice.send([176+t-1,n,a])}}},{key:"sendSysex",value:function(e){this.props.outputDevice.send(e)}},{key:"indexOf2dArray",value:function(e,t){for(var n=0,a=t.length;n<a;n++)for(var o=0,i=t[n].length;o<i;o++)if(t[n][o]===e)return[n,o];return[NaN,NaN]}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{children:this.props.layoutConfig.layout.map((function(t,n){return Object(a.jsx)("div",{className:"button-row",children:e.props.layoutConfig.layout[n].map((function(t,o){switch(t){case"\u25fb":return Object(a.jsx)(k,{x:o,y:n,class:"LEDButtonSquare",color:e.state.colormap[o][n],on:e.keyOn,off:e.keyOff});case"\u2b24":return Object(a.jsx)(k,{x:o,y:n,class:"LEDButtonCircle75",color:e.state.colormap[o][n],on:e.keyOn,off:e.keyOff});case"\u25ea":case"\u2b15":case"\u2b14":case"\u25e9":return Object(a.jsx)(k,{x:o,y:n,class:"LEDButtonSquare",color:e.state.colormap[o][n],on:e.keyOn,Zoff:e.keyOff});default:return Object(a.jsx)("div",{style:{width:"96px"}},"Spacer "+o.toString()+"-"+n.toString())}}))})}))})}}]),n}(o.Component)),D={defaultLayout:"Launchpad Pro"},I={"Launchpad Pro":{channel:1,midiNameRegex:"^Launchpad Pro",layout:[["\u3000","\u2b24","\u2b24","\u2b24","\u2b24","\u2b24","\u2b24","\u2b24","\u2b24","\u3000"],["\u2b24","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u2b24"],["\u2b24","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u2b24"],["\u2b24","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u2b24"],["\u2b24","\u25fb","\u25fb","\u25fb","\u25ea","\u2b15","\u25fb","\u25fb","\u25fb","\u2b24"],["\u2b24","\u25fb","\u25fb","\u25fb","\u2b14","\u25e9","\u25fb","\u25fb","\u25fb","\u2b24"],["\u2b24","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u2b24"],["\u2b24","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u2b24"],["\u2b24","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u2b24"],["\u3000","\u2b24","\u2b24","\u2b24","\u2b24","\u2b24","\u2b24","\u2b24","\u2b24","\u3000"]],keymap:[[null,28,29,30,31,32,33,34,35,null],[108,64,65,66,67,96,97,98,99,100],[109,60,61,62,63,92,93,94,95,101],[110,56,57,58,59,88,89,90,91,102],[111,52,53,54,55,84,85,86,87,103],[112,48,49,50,51,80,81,82,83,104],[113,44,45,46,47,76,77,78,79,105],[114,40,41,42,43,72,73,74,75,106],[115,36,37,38,39,68,69,70,71,107],[null,116,117,118,119,120,121,122,123,null]],width:10,height:10,padding:25,radius:15,canvas_origin:[1,1],chainKey:[[9,1],[9,2],[9,3],[9,4],[9,5],[9,6],[9,7],[9,8]],mcTable:[[1,0],[2,0],[3,0],[4,0],[5,0],[6,0],[7,0],[8,0],[9,1],[9,2],[9,3],[9,4],[9,5],[9,6],[9,7],[9,8],[8,9],[7,9],[6,9],[5,9],[4,9],[3,9],[2,9],[1,9],[0,8],[0,7],[0,6],[0,5],[0,4],[0,3],[0,2],[0,1]],hexSysexGen:function(){if(2!=arguments.length&&3!=arguments.length)return[];switch(arguments.length){case 2:var e=arguments[0];if(null==this.mcTable[e])return[];var t=this.mcTable[e],n=arguments[1];case 3:var a=arguments[0]+1;t=arguments[1]+1,n=arguments[2];default:var o=10*a+t,i=n>>16>>2,r=(255&n)>>2,s=(255&n)>>2;return[240,0,32,41,2,24,11,o,i,r,s,247]}}},"Launchpad MK2":{channel:1,midiNameRegex:"^Launchpad MK2",layout:[["\u2b24","\u2b24","\u2b24","\u2b24","\u2b24","\u2b24","\u2b24","\u2b24","\u3000"],["\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u2b24"],["\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u2b24"],["\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u2b24"],["\u25fb","\u25fb","\u25fb","\u25ea","\u2b15","\u25fb","\u25fb","\u25fb","\u2b24"],["\u25fb","\u25fb","\u25fb","\u2b14","\u25e9","\u25fb","\u25fb","\u25fb","\u2b24"],["\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u2b24"],["\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u2b24"],["\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u2b24"]],keymap:[["C104","C105","C106","C107","C108","C109","C110","C111",null],[81,82,83,84,85,86,87,88,89],[71,72,73,74,75,76,77,78,79],[61,62,63,64,65,66,67,68,69],[51,52,53,54,55,56,57,58,59],[41,42,43,44,45,46,47,48,49],[31,32,33,34,35,36,37,38,39],[21,22,23,24,25,26,27,28,29],[11,12,13,14,15,16,17,18,19]],width:9,height:9,padding:25,radius:15,canvas_origin:[0,1],chainKey:[[8,1],[8,2],[8,3],[8,4],[8,5],[8,6],[8,7],[8,8]],mcTable:[[0,0],[1,0],[2,0],[3,0],[4,0],[5,0],[6,0],[7,0],[8,1],[8,2],[8,3],[8,4],[8,5],[8,6],[8,7],[8,8],null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],hexSysexGen:function(){if(2!=arguments.length&&3!=arguments.length)return[];switch(arguments.length){case 2:var e=arguments[0];if(null==this.mcTable[e])return[];var t=this.mcTable[e],n=arguments[1];case 3:var a=arguments[0]+1;t=arguments[1]+1,n=arguments[2];default:var o=10*a+t,i=n>>16>>2,r=(255&n)>>2,s=(255&n)>>2;return[240,0,32,41,2,24,11,o,i,r,s,247]}}},Matrix:{channel:2,midiNameRegex:"^Matrix",layout:[["\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb"],["\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb"],["\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb"],["\u25fb","\u25fb","\u25fb","\u25ea","\u2b15","\u25fb","\u25fb","\u25fb"],["\u25fb","\u25fb","\u25fb","\u2b14","\u25e9","\u25fb","\u25fb","\u25fb"],["\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb"],["\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb"],["\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb","\u25fb"]],keymap:[[64,65,66,67,96,97,98,99],[60,61,62,63,92,93,94,95],[56,57,58,59,88,89,90,91],[52,53,54,55,84,85,86,87],[48,49,50,51,80,81,82,83],[44,45,46,47,76,77,78,79],[40,41,42,43,72,73,74,75],[36,37,38,39,68,69,70,71],[100,101,102,103,104,105,106,107]],width:8,height:8,padding:20,radius:15,canvas_origin:[0,0],chainKey:[[0,8],[1,8],[2,8],[3,8],[4,8],[5,8],[6,8],[7,8]],mcTable:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],hexSysexGen:function(){if(3!=arguments.length)return[];switch(arguments.length){case 3:var e=arguments[2];default:var t=e>>16>>1,n=(255&e)>>1,a=(255&e)>>1;return[240,0,2,3,1,0,18,32,0,3,t,n,a,247]}}}},S=n(16),N=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={projectFile:void 0,color:"#000000",midiInput:[],midiOutput:[],layoutConfigName:D.defaultLayout,layoutConfig:I[D.defaultLayout],inputDevice:void 0,inputConfigName:void 0,inputConfig:void 0,outputDevice:void 0,outputConfigName:void 0,outputConfig:void 0},a.updateProjectFile=function(e){a.setState({projectFile:e})},a.onMIDISuccess=function(e){console.log("Got access your MIDI devices.");var t=[];console.log("Input");var n,o=Object(u.a)(e.inputs.values());try{for(o.s();!(n=o.n()).done;){var i=n.value;console.log(i.name),t.push({label:i.name,value:i})}}catch(p){o.e(p)}finally{o.f()}console.log(t),a.setState({midiInput:t});var r=[];console.log(),console.log("Output");var s,c=Object(u.a)(e.outputs.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;console.log(l.name),r.push({label:l.name,value:l})}}catch(p){c.e(p)}finally{c.f()}a.setState({midiOutput:r})},navigator.requestMIDIAccess().then(a.onMIDISuccess,a.onMIDIFailure),a}return Object(l.a)(n,[{key:"onMIDIFailure",value:function(){console.log("Could not access your MIDI devices."),alert("Could not access your MIDI devices. Try use another web browser or hardware platform")}},{key:"autoConfigPicker",value:function(e,t){if(void 0!==e)for(var n in I)if(null!==e.match(I[n].midiNameRegex)){var a=I[n];switch(console.log("".concat(t?"Output":"input"," config has been auto assigned to ").concat(n)),t){case 0:return this.setState({inputConfigName:n}),void this.setState({inputConfig:a});case 1:return this.setState({outputConfigName:n}),void this.setState({outputConfig:a})}}alert("Unable to find matching ".concat(t?"output":"input"," config for device ").concat(e))}},{key:"render",value:function(){return Object(a.jsx)(i.a.Fragment,{children:Object(a.jsxs)("div",{className:"main",children:[Object(a.jsxs)("div",{className:"toolbar",children:[" ",Object(a.jsx)("text",{color:"white",children:"203 | Prismatic (Tech Preview Demo)"}),Object(a.jsx)("div",{}),Object(a.jsx)(j,{updateProjectFile:this.updateProjectFile}),Object(a.jsx)("div",{}),Object(a.jsx)("text",{children:"UI Layout"}),Object(a.jsx)(S.a,{options:this.prepDeviceConfig(),autosize:!0,value:void 0!==this.state.layoutConfigName?{label:this.state.layoutConfigName,value:this.state.layoutConfig}:void 0,placeholder:"Layout Config",onChange:this.setLayoutConfig.bind(this)}),Object(a.jsx)("text",{children:"Midi Input Device"}),Object(a.jsx)(S.a,{options:this.state.midiInput,autosize:!0,value:void 0!==this.state.inputDevice?{label:this.state.inputDevice.name,value:this.state.inputDevice}:void 0,placeholder:"Input Device",onChange:this.setInputDevice.bind(this)}),Object(a.jsx)("text",{children:"Midi Input Device Config"}),Object(a.jsx)(S.a,{options:this.prepDeviceConfig(),autosize:!0,value:void 0!==this.state.inputConfigName?{label:this.state.inputConfigName,value:this.state.inputConfig}:void 0,placeholder:"Input Device Config",onChange:this.setInputConfig.bind(this)}),Object(a.jsx)("text",{children:"Midi Output Device"}),Object(a.jsx)(S.a,{options:this.state.midiOutput,autosize:!0,value:void 0!==this.state.outputDevice?{label:this.state.outputDevice.name,value:this.state.outputDevice}:void 0,placeholder:"Output Device",onChange:this.setOutputDevice.bind(this)}),Object(a.jsx)("text",{children:"Midi Output Device Config"}),Object(a.jsx)(S.a,{options:this.prepDeviceConfig(),autosize:!0,value:void 0!==this.state.outputConfigName?{label:this.state.outputConfigName,value:this.state.outputConfig}:void 0,placeholder:"Output Device Config",onChange:this.setOutputConfig.bind(this)})]}),Object(a.jsx)("div",{className:"canvas",style:{padding:this.state.layoutConfig.padding,borderRadius:this.state.layoutConfig.radius},children:Object(a.jsx)(w,{projectFile:this.state.projectFile,layoutConfig:this.state.layoutConfig,inputDevice:this.state.inputDevice,inputConfig:this.state.inputConfig,outputDevice:this.state.outputDevice,outputConfig:this.state.outputConfig})})]})})}},{key:"setLayoutConfig",value:function(e){this.setState({layoutConfigName:e.label}),this.setState({layoutConfig:e.value})}},{key:"setInputConfig",value:function(e){this.setState({inputConfigName:e.label}),this.setState({inputConfig:e.value})}},{key:"setOutputConfig",value:function(e){this.setState({outputConfigName:e.label}),this.setState({outputConfig:e.value})}},{key:"setInputDevice",value:function(e){this.setState({inputDevice:e.value}),this.autoConfigPicker(e.value.name,0)}},{key:"setOutputDevice",value:function(e){this.setState({outputDevice:e.value}),this.autoConfigPicker(e.value.name,1)}},{key:"prepDeviceConfig",value:function(){var e=[];for(var t in I)e.push({label:t,value:I[t]});return e}}]),n}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(a.jsx)(N,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[59,1,2]]]);
//# sourceMappingURL=main.d1db510c.chunk.js.map